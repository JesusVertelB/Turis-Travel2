@model IEnumerable<Turis_Travel2.Models.Role>

@{
    Layout = "_LayoutDashboard";
    ViewData["Title"] = "Gestión de Roles";
}

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

    <!-- LISTADO DE ROLES -->
    <div class="lg:col-span-2 bg-white rounded-xl shadow p-6">

        <div class="flex justify-between items-center mb-4">
            <h2 class="text-lg font-semibold text-gray-800">
                Listado de Roles
            </h2>

            <input type="text"
                   placeholder="Buscar rol..."
                   class="border rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none">
        </div>

        <table class="w-full text-sm">
            <thead class="text-gray-500 border-b">
                <tr>
                    <th class="text-left py-3">Rol</th>
                    <th class="text-center py-3">Estado</th>
                    <th class="text-center py-3">Acciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var rol in Model)
                {
                    <tr class="border-b hover:bg-gray-50">
                        <td class="py-3 text-gray-700">
                            @rol.NombreRol
                        </td>

                        <td class="text-center">
                            @if (rol.EstadoRol == 1)
                            {
                                <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-700">
                                    Activo
                                </span>
                            }
                            else
                            {
                                <span class="px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-700">
                                    Inactivo
                                </span>
                            }
                        </td>

                        <td class="text-center">
                            <a asp-controller="Permisos"
                               asp-action="Index"
                               asp-route-id="@rol.IdRol"
                               class="text-blue-600 hover:underline text-sm">
                                Configurar
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- CONFIGURAR ROL -->
    <div class="bg-white rounded-xl shadow p-6">

        <h2 class="text-lg font-semibold text-gray-800 mb-4">
            Configurar Rol
        </h2>

        <form asp-action="Create" method="post">

            <div class="mb-4">
                <label class="block text-sm text-gray-600 mb-1">
                    Nombre del Rol
                </label>
                <input type="text"
                       name="Nombre_rol"
                       class="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
                       placeholder="Ej: Gestor de Reservas">
            </div>

            <div class="mb-6">
                <label class="block text-sm text-gray-600 mb-1">
                    Descripción
                </label>
                <textarea class="w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none"
                          rows="3"
                          placeholder="Breve descripción del rol"></textarea>
            </div>

            <button type="submit"
                    class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                Guardar Rol
            </button>

        </form>
    </div>

</div>
